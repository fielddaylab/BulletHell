<script src="/socket.io/socket.io.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.4/jquery.min.js"></script>
<script>
	var socket = io.connect('http://localhost:3000');
	var mouseX = 0, mouseY = 0;

	// on connection to server, ask for user's name with an anonymous callback
	
	// listener, whenever the server emits 'updateusers', this updates the username list
	socket.on('echo', function(data) {
		console.log(data);
	});

	// on load of page
	$(function(){
		
		$("html").bind('mousemove.trackrEvent', function (e) {
			// on mouse move, save updated event x and y position to these two variables. We check the variables every (sampleRate) milliseconds
			mouseX = e.pageX;
			mouseY = e.pageY;
	    });

	    var mouse_pos_broadcast = setInterval(function(){
	    	socket.emit('mousepos', {x: mouseX/$("html").width(), y:mouseY/$("html").height()});
	    	//console.log("Soup bro");
	    	console.log('mousepos', {x: mouseX/$("html").width(), y:mouseY/$("html").height()});
	    }, 16);

	});

</script>
<html>
<div>
	You are free to touch the screen.
</div>
</html>